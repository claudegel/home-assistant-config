#-------------------------------------------
#  Network Related Packages
# @CCOSTAN
# Original Repo : https://github.com/CCOSTAN/Home-AssistantConfig
#-------------------------------------------

#-------------------------------------------
sensor:
  - platform: speedtest
    minute: 30
    hour:
      - 0
      - 6
      - 12
      - 18
    monitored_conditions:
      - download
      - upload
  
  - platform: rest
    scan_interval: 86400
    resource: http://ip.jsontest.com
    name: External IP
    value_template: '{{ value_json.ip }}'
  - platform: iperf3
    name: Local Speed
    host: 192.168.0.10
    port: 5201
    monitored_conditions:
      - download
      - upload

homeassistant:
  customize:
    sensor.download_192168010:
      friendly_name: Local Download Speed
    sensor.upload_192168010:
      friendly_name: Local Upload Speed

group:
  network:
    name: Network
    entities:
      - sensor.external_ip
      - sensor.speedtest_download
      - sensor.speedtest_upload
      - sensor.download_192168010
      - sensor.upload_192168010
